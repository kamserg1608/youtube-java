# MemoryDemoApplication

## Описание

**MemoryDemoApplication** — это простое Java-приложение, демонстрирующее работу с памятью и сборкой мусора (GC). Программа создает большой массив байтов и выполняет различные операции для генерации нагрузки на память, что позволяет проводить тестирование и мониторинг поведения JVM с использованием VisualVM и плагина Visual GC.

## Требования

- **Java Development Kit (JDK) 8 или выше**
- **Maven** (для сборки проекта)
- **VisualVM** (входит в состав JDK или доступен для скачивания отдельно)
- **Плагин Visual GC** для VisualVM

## Сборка и запуск

1. **Клонируйте репозиторий:**

```bash
   git clone <URL_репозитория>
   cd MemoryDemoApplication
  ```

2. **Запустите приложение с необходимыми JVM опциями:**
В зависимости от версии кода, используйте соответствующий класс MemoryDemoApplication.
```bash   
 java -Xms256m -Xmx256m \
      -XX:+HeapDumpOnOutOfMemoryError \
      -XX:HeapDumpPath=./logs/heapdump.hprof \
      -XX:+UseG1GC \
      -Xlog:gc=debug:file=./logs/gc-%p-%t.log:tags,uptime,time,level:filecount=5,filesize=10m \
      -jar target/MemoryDemoApplication.jar
  ```

Описание JVM опций:
- **-Xms256m — начальный размер кучи.**
- **-Xmx256m — максимальный размер кучи.**
- **-XX:+HeapDumpOnOutOfMemoryError — создание дампа кучи при ошибке OutOfMemory.**
- **-XX:HeapDumpPath=./logs/heapdump.hprof — путь для сохранения дампа кучи.**
- **-XX:+UseG1GC — использование сборщика мусора G1.**
- **-Xlog:gc=debug:file=./logs/gc-%p-%t.log:tags,uptime,time,level:filecount=5,filesize=10m — настройка логирования GC.**

### Установите плагин Visual GC:

#### •	В меню VisualVM перейдите в Tools → Plugins.
#### •	Вкладка Available Plugins.
#### •	Найдите Visual GC в списке и установите его.
#### •	После установки перезапустите VisualVM.

### 3.	Подключитесь к запущенному приложению:
#### •	В окне VisualVM в разделе Local вы увидите запущенное приложение MemoryDemoApplication.
#### •	Дважды щелкните по нему, чтобы открыть вкладку мониторинга.
### 4.	Используйте плагин Visual GC:
#### •	Перейдите на вкладку Visual GC, чтобы видеть графическое представление работы сборщика мусора.
#### •	Вы сможете наблюдать за различными поколениями (Eden, Survivor, Old), а также за метриками памяти и GC-процессами в реальном времени.

## Проведение тестирования
### 1.	Запустите приложение с указанными JVM опциями.
### 2.	Откройте VisualVM и подключитесь к приложению.
### 3.	На вкладке Visual GC наблюдайте за изменениями в памяти:
#### •	Eden Space — молодое поколение, куда создаются новые объекты.
#### •	Survivor Spaces — промежуточные области для объектов, переживающих сборку мусора.
#### •	Old Generation — старшее поколение, куда перемещаются долгоживущие объекты.
### 4.	Следите за логами GC:
#### •	Логи сборки мусора сохраняются в директории ./logs/.
#### •  Анализируйте файлы gc-%p-%t.log для детального понимания работы GC.
### 5.	Наблюдайте за дампом кучи:
#### •	В случае ошибки OutOfMemoryError дамп кучи будет сохранен в ./logs/heapdump.hprof.
#### •	Вы можете проанализировать его с помощью VisualVM или других инструментов для детального анализа состояния памяти.

### Интерпретация результатов
#### •	Частые сборки мусора: могут указывать на высокую нагрузку на память или недостаточный размер кучи.
#### •	Быстро заполняющееся Old Generation: свидетельствует о большом количестве долгоживущих объектов.
#### •	Дамп кучи: помогает выявить утечки памяти, анализируя объекты, удерживаемые в памяти.

### Примеры использования
#### •	Тестирование производительности JVM: Изучение влияния различных настроек GC на производительность приложения.
#### •	Анализ утечек памяти: Использование дампов кучи для обнаружения объектов, которые не подлежат сборке мусора.
#### •	Обучение работе сборщиков мусора: Понимание принципов работы разных поколений и механизмов GC.


